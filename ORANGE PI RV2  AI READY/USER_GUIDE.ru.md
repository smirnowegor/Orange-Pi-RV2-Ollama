# Руководство пользователя — ORANGE PI RV2 Ollama (перевод)

Кратко: как проверить работу сервера, как запустить модель из терминала и какие модели подходят для Orange Pi RV2 (CPU-only).

---

## 1) Проверка работы сервера

Локально (на плате):

```bash
systemctl status ollama --no-pager
ss -ltnp | grep 11434
curl http://127.0.0.1:11434/api/tags
```

С другой машины в сети:

```bash
curl http://192.168.1.78:11434/api/tags
```

Если внешний доступ не работает, проверьте:
- `OLLAMA_HOST` в systemd установлен в `0.0.0.0:11434`
- Нет брандмауэра, блокирующего порт 11434

---

## 2) Запуск модели из терминала

Интерактивно:

```bash
ollama run qwen2.5:0.5b
```

Одноразовый запрос:

```bash
ollama run qwen2.5:0.5b "Hello from Orange Pi RV2"
```

Список установленных моделей:

```bash
ollama list
```

Удалить модель:

```bash
ollama rm qwen2.5:0.5b
```

---

## 3) Рекомендованные модели для RV2 (CPU-only)

Цель: устойчивость и размещение в 4–8 ГБ ОЗУ. Начинайте с маленьких моделей.

Лучший баланс (рекомендуется):
- `qwen2.5:0.5b` — самый быстрый, очень лёгкий
- `qwen2.5:1.5b` — лучшее качество, всё ещё подходит
- `llama3.2:1b` — хороший общий вариант, лёгкий
- `tinyllama:1.1b` — очень лёгкий, старее

Допустимые (могут быть медленнее):
- `qwen2.5:3b` — требует больше ОЗУ
- `phi3:3.8b` — больше и медленнее

Не рекомендуется: 7b и выше (слишком тяжёлые для CPU-only)

---

## 4) Сравнение производительности (примерно)

Типично для RV2 (SpacemiT K1, CPU-only):

- `qwen2.5:0.5b`   -> ~3-5 ток/с
- `qwen2.5:1.5b`   -> ~1-2 ток/с
- `llama3.2:1b`    -> ~1-2 ток/с
- `tinyllama:1.1b` -> ~1-2 ток/с
- `qwen2.5:3b`     -> <1 ток/с

Факторы: температура, использование swap, квантизация моделей.

---

## 5) Советы для стабильной работы

- Храните модели на NVMe: `OLLAMA_MODELS=/mnt/nvme/ollama/models`
- Используйте swap на NVMe (8 ГБ) чтобы избежать OOM
- Установите governor CPU в `performance`
- Обеспечьте хорошее охлаждение (нагрузка может достигать 80°C+)

---

## 6) Быстрая диагностика

- "Connection refused": проверьте порт и `OLLAMA_HOST` в systemd
- "Killed" / OOM: используйте меньшую модель, включите swap
- Очень медленно: используйте 0.5b/1b, проверьте температуру и swap

---

Конец перевода.